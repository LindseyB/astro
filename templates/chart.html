{% extends "base.html" %}

{% block content %}
<h1>🌟 Your Astrological Chart</h1>

<div class="chart-section">
    <h2>Main Signs</h2>
    <div class="main-signs">
        <div class="sign-card">
            <h3>☀️ Sun Sign</h3>
            <p><strong>{{ chart_data.sun }}</strong></p>
            <small>Your core identity</small>
        </div>
        <div class="sign-card">
            <h3>🌙 Moon Sign</h3>
            <p><strong>{{ chart_data.moon }}</strong></p>
            <small>Your emotional nature</small>
        </div>
        <div class="sign-card">
            <h3>⬆️ Ascendant</h3>
            <p><strong>{{ chart_data.ascendant }}</strong></p>
            <small>Your outer personality</small>
        </div>
    </div>
</div>

<div class="chart-section">
    <h2>🏠 Houses and Planets</h2>
    {% for house_num in range(1, 13) %}
        {% set house_data = chart_data.planets_in_houses[house_num] %}
        <div class="house-item">
            <div class="house-title">{{ chart_data.house_names[house_num] }}</div>
            <div style="margin: 8px 0;"><strong>Sign:</strong> {{ house_data.house_obj.sign }}</div>
            
            {% if house_data.planets %}
                <div><strong>Planets:</strong></div>
                <div class="planet-list">
                    {% for planet in house_data.planets %}
                        <div class="planet-item">• {{ planet.name }}: {{ planet.sign }}</div>
                    {% endfor %}
                </div>
            {% else %}
                <div style="color: #666; font-style: italic;">No planets in this house</div>
            {% endif %}
        </div>
    {% endfor %}
</div>

<div class="chart-section">
    <h2>📡 Current Planetary Status</h2>
    <div class="mercury-status {{ 'mercury-retrograde' if chart_data.mercury.retrograde else 'mercury-direct' }}">
        {% if chart_data.mercury.retrograde %}
            ⚠️ Mercury is currently retrograde!
        {% else %}
            ✅ Mercury is direct (not retrograde)
        {% endif %}
        <br>
        <small>Mercury in {{ chart_data.mercury.sign }} {{ "%.2f"|format(chart_data.mercury.degree) }}°</small>
    </div>
</div>

<a href="/" class="back-link">← Calculate Another Chart</a>
{% endblock %}
